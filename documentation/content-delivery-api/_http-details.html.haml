= title_anchor 'h2', "http", "HTTP Details"

= title_anchor 'h3', "security", "Security"

:markdown
  The Content Delivery API is fully available via SSL:
  Both JSON data and Assets should be requested through a secure transport.

  Using SSL ensures that the entire content and access tokens of a Space remain secure
  and can not be intercepted by potential eavesdroppers.

= language_specific 'java', 'javascript', 'objc', 'ruby' do
  Our client libraries enable SSL by default. You can however switch it off:

  = code_examples do
    = language_block :java do
      :plain
        CDAClient client = new CDAClient.Builder()
            .setSpaceKey("cfexampleapi")
            .setAccessToken("b4c0n73n7fu1")
            .noSSL()
            .build();

    = language_block :javascript do
      :plain
        var client = contentful.createClient({
          // other options
          secure: false
        });

    = language_block :objc do
      :plain
        CDAConfiguration* configuration = [CDAConfiguration defaultConfiguration];
        configuration.secure = NO;
        CDAClient* client = [[CDAClient alloc] initWithSpaceKey:@"cfexampleapi"
                                                    accessToken:@"b4c0n73n7fu1"
                                                  configuration:configuration];
    = language_block :swift do
      :plain
        var configuration = CDAConfiguration.defaultConfiguration();
        configuration.secure = false;
        var client = CDAClient(spaceKey:"cfexampleapi",
            accessToken:"b4c0n73n7fu1", configuration:configuration)
            
    = language_block :ruby do
      :plain
        client = Contentful::Client.new(
          # other options
          secure: false
        )
  :markdown
    Unless there is a reason to disable SSL you should leave it enabled to
    ensure maximum privacy for clients.

= language_specific 'javascript', 'http' do

  = prefixed_partial '../shared/http_details_cors'

  = title_anchor 'h3', "encoding", "Encoding"

  :markdown
    JSON is encoded in UTF-8.

  = title_anchor 'h3', "etag-if-none-match", "ETag/If-None-Match"

  :markdown
    The API support conditional GET-requests via ETag & If-None-Match headers:

    Every API response (both single resources and searches) includes an `ETag` header.
    The `ETag` header changes depending on the content of the response:
    If something is updated or a search result changes in some way the ETag also changes.
    But if nothing changes the ETag also stays the same.

    To avoid unnecessary transfers you can set the `If-None-Match` header of an
    API request to a the `ETag` previously received for the same API request.

    If the content hasn't changed in the meantime the API will respond with a
    short 304 Not Modified response. This makes quite a difference for large responses
    and especially binary files.

  = title_anchor 'h3', "gzip-compression", "GZip Compression"

  :markdown
    All API endpoints support GZip compression to save valuable bandwidth.
    Please take into account that enabling compression will also put more load on your clients' processors.
